{% extends "base.html" %}

{% block title %}Login e Cadastro - PDFProva{% endblock %}

{% block content %}
<!-- Header Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
                <h1 class="display-5 fw-bold mb-3">
                    <i class="fas fa-user text-primary me-3"></i>Acesse sua Conta
                </h1>
                <p class="lead text-muted">
                    Entre ou crie sua conta para gerenciar seus documentos e assinaturas
                </p>
            </div>
        </div>
    </div>
</section>

<!-- Auth Forms Section -->
<section class="py-5">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <!-- Tab Navigation -->
                <div class="card border-0 shadow-sm">
                    <div class="card-header bg-transparent border-0">
                        <ul class="nav nav-tabs card-header-tabs" id="authTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab">
                                    <i class="fas fa-sign-in-alt me-2"></i>Login
                                </button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab">
                                    <i class="fas fa-user-plus me-2"></i>Cadastro
                                </button>
                            </li>
                        </ul>
                    </div>
                    
                    <div class="card-body p-4">
                        <div class="tab-content" id="authTabsContent">
                            <!-- Login Tab -->
                            <div class="tab-pane fade show active" id="login" role="tabpanel">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h4 class="fw-bold mb-4">Entrar na sua conta</h4>
                                        
                                        <form id="loginForm">
                                            <div class="mb-3">
                                                <label for="loginEmail" class="form-label">Email</label>
                                                <input type="email" class="form-control form-control-lg" id="loginEmail" placeholder="seu@email.com" required>
                                            </div>
                                            
                                            <div class="mb-3">
                                                <label for="loginPassword" class="form-label">Senha</label>
                                                <input type="password" class="form-control form-control-lg" id="loginPassword" placeholder="Sua senha" required>
                                            </div>
                                            
                                            <div class="mb-3 form-check">
                                                <input type="checkbox" class="form-check-input" id="rememberMe">
                                                <label class="form-check-label" for="rememberMe">
                                                    Lembrar de mim
                                                </label>
                                            </div>
                                            
                                            <div class="d-grid mb-3">
                                                <button type="submit" class="btn btn-primary btn-lg">
                                                    <i class="fas fa-sign-in-alt me-2"></i>Entrar
                                                </button>
                                            </div>
                                            
                                            <div class="text-center">
                                                <a href="#" class="text-decoration-none" onclick="showComingSoon()">
                                                    Esqueceu sua senha?
                                                </a>
                                            </div>
                                        </form>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <div class="d-flex flex-column h-100 justify-content-center text-center">
                                            <i class="fas fa-file-contract fa-4x text-primary mb-4"></i>
                                            <h5 class="fw-bold">Bem-vindo de volta!</h5>
                                            <p class="text-muted">
                                                Acesse seu painel para gerenciar documentos, histórico de assinaturas e muito mais.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Register Tab -->
                            <div class="tab-pane fade" id="register" role="tabpanel">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="d-flex flex-column h-100 justify-content-center text-center">
                                            <i class="fas fa-user-shield fa-4x text-success mb-4"></i>
                                            <h5 class="fw-bold">Junte-se ao PDFProva</h5>
                                            <p class="text-muted">
                                                Crie sua conta gratuita e tenha acesso a todas as ferramentas de conversão e assinatura digital.
                                            </p>
                                        </div>
                                    </div>
                                    
                                    <div class="col-md-6">
                                        <h4 class="fw-bold mb-4">Criar nova conta</h4>
                                        
                                        <form id="registerForm">
                                            <div class="mb-3">
                                                <label for="registerName" class="form-label">Nome completo</label>
                                                <input type="text" class="form-control form-control-lg" id="registerName" placeholder="Seu nome completo" required>
                                            </div>
                                            
                                            <div class="mb-3">
                                                <label for="registerEmail" class="form-label">Email</label>
                                                <input type="email" class="form-control form-control-lg" id="registerEmail" placeholder="seu@email.com" required>
                                            </div>
                                            
                                            <div class="mb-3">
                                                <label for="registerPassword" class="form-label">Senha</label>
                                                <input type="password" class="form-control form-control-lg" id="registerPassword" placeholder="Escolha uma senha" required>
                                            </div>
                                            
                                            <div class="mb-3">
                                                <label for="confirmPassword" class="form-label">Confirmar senha</label>
                                                <input type="password" class="form-control form-control-lg" id="confirmPassword" placeholder="Confirme sua senha" required>
                                            </div>
                                            
                                            <div class="mb-3 form-check">
                                                <input type="checkbox" class="form-check-input" id="acceptTerms" required>
                                                <label class="form-check-label" for="acceptTerms">
                                                    Aceito os <a href="#" onclick="showComingSoon()">Termos de Uso</a> e 
                                                    <a href="#" onclick="showComingSoon()">Política de Privacidade</a>
                                                </label>
                                            </div>
                                            
                                            <div class="d-grid">
                                                <button type="submit" class="btn btn-success btn-lg">
                                                    <i class="fas fa-user-plus me-2"></i>Criar Conta
                                                </button>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Benefits Section -->
<section class="py-5 bg-light">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-12">
                <h3 class="fw-bold">Vantagens de ter uma conta</h3>
                <p class="text-muted">Tenha acesso completo a todas as funcionalidades da plataforma</p>
            </div>
        </div>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-cloud fa-3x text-primary"></i>
                    </div>
                    <h5 class="fw-bold">Armazenamento em Nuvem</h5>
                    <p class="text-muted">
                        Mantenha seus documentos organizados e acessíveis de qualquer lugar
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-history fa-3x text-success"></i>
                    </div>
                    <h5 class="fw-bold">Histórico Completo</h5>
                    <p class="text-muted">
                        Acompanhe todas as ações realizadas em seus documentos
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-certificate fa-3x text-warning"></i>
                    </div>
                    <h5 class="fw-bold">Certificados Salvos</h5>
                    <p class="text-muted">
                        Gerencie seus certificados digitais de forma segura
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-share-alt fa-3x text-info"></i>
                    </div>
                    <h5 class="fw-bold">Compartilhamento</h5>
                    <p class="text-muted">
                        Envie documentos para assinatura de terceiros facilmente
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-bell fa-3x text-danger"></i>
                    </div>
                    <h5 class="fw-bold">Notificações</h5>
                    <p class="text-muted">
                        Receba alertas sobre status de documentos e assinaturas
                    </p>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="text-center">
                    <div class="feature-icon mb-3">
                        <i class="fas fa-chart-line fa-3x text-secondary"></i>
                    </div>
                    <h5 class="fw-bold">Relatórios</h5>
                    <p class="text-muted">
                        Visualize estatísticas e relatórios de uso da plataforma
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Social Login Section -->
<section class="py-4">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-6 text-center">
                <h5 class="fw-bold mb-3">Ou acesse com</h5>
                <div class="d-flex gap-3 justify-content-center">
                    <button class="btn btn-outline-dark" onclick="showComingSoon()">
                        <i class="fab fa-google me-2"></i>Google
                    </button>
                    <button class="btn btn-outline-primary" onclick="showComingSoon()">
                        <i class="fab fa-microsoft me-2"></i>Microsoft
                    </button>
                    <button class="btn btn-outline-dark" onclick="showComingSoon()">
                        <i class="fab fa-github me-2"></i>GitHub
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    const loginForm = document.getElementById('loginForm');
    const registerForm = document.getElementById('registerForm');
    
    // Handle login form submission
    loginForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const email = document.getElementById('loginEmail').value;
        const password = document.getElementById('loginPassword').value;
        
        if (!email || !password) {
            alert('Por favor, preencha todos os campos.');
            return;
        }
        
        const submitBtn = this.querySelector('button[type="submit"]');
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Entrando...';
        submitBtn.disabled = true;
        
        // Simulate login
        setTimeout(() => {
            alert('Sistema de autenticação será implementado na Etapa 4 do projeto!');
            submitBtn.innerHTML = '<i class="fas fa-sign-in-alt me-2"></i>Entrar';
            submitBtn.disabled = false;
        }, 2000);
    });
    
    // Handle register form submission
    registerForm.addEventListener('submit', function(e) {
        e.preventDefault();
        
        const name = document.getElementById('registerName').value;
        const email = document.getElementById('registerEmail').value;
        const password = document.getElementById('registerPassword').value;
        const confirmPassword = document.getElementById('confirmPassword').value;
        const acceptTerms = document.getElementById('acceptTerms').checked;
        
        if (!name || !email || !password || !confirmPassword) {
            alert('Por favor, preencha todos os campos.');
            return;
        }
        
        if (password !== confirmPassword) {
            alert('As senhas não coincidem.');
            return;
        }
        
        if (password.length < 6) {
            alert('A senha deve ter pelo menos 6 caracteres.');
            return;
        }
        
        if (!acceptTerms) {
            alert('Você deve aceitar os Termos de Uso e Política de Privacidade.');
            return;
        }
        
        const submitBtn = this.querySelector('button[type="submit"]');
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Criando conta...';
        submitBtn.disabled = true;
        
        // Simulate registration
        setTimeout(() => {
            alert('Sistema de cadastro será implementado na Etapa 4 do projeto!');
            submitBtn.innerHTML = '<i class="fas fa-user-plus me-2"></i>Criar Conta';
            submitBtn.disabled = false;
        }, 2000);
    });
    
    // Password strength indicator (for register form)
    const registerPassword = document.getElementById('registerPassword');
    registerPassword.addEventListener('input', function() {
        const password = this.value;
        let strength = 0;
        
        if (password.length >= 6) strength++;
        if (/[A-Z]/.test(password)) strength++;
        if (/[0-9]/.test(password)) strength++;
        if (/[^A-Za-z0-9]/.test(password)) strength++;
        
        // Remove existing indicator
        const existingIndicator = this.parentNode.querySelector('.password-strength');
        if (existingIndicator) {
            existingIndicator.remove();
        }
        
        if (password.length > 0) {
            const indicator = document.createElement('div');
            indicator.className = 'password-strength form-text';
            
            let strengthText, strengthClass;
            switch (strength) {
                case 0:
                case 1:
                    strengthText = 'Senha fraca';
                    strengthClass = 'text-danger';
                    break;
                case 2:
                    strengthText = 'Senha média';
                    strengthClass = 'text-warning';
                    break;
                case 3:
                case 4:
                    strengthText = 'Senha forte';
                    strengthClass = 'text-success';
                    break;
            }
            
            indicator.innerHTML = `<small class="${strengthClass}">${strengthText}</small>`;
            this.parentNode.appendChild(indicator);
        }
    });
});

function showComingSoon() {
    alert('Funcionalidade será implementada nas próximas etapas do projeto!');
}
</script>
{% endblock %}
